<?php
function get_internal_func($plugin_name,$function_name,$arg=null){
$contents="./plugins";
$direcoty_list = scandir("$contents");
for($i=0;isset($direcoty_list[$i]);$i++)
  if(! is_dir("$contents/$direcoty_list[$i]") || 
       $direcoty_list[$i] == "." || 
       $direcoty_list[$i] == ".." )
    continue;
  else 
    $category_names[]=$direcoty_list[$i]; 
	
	foreach($category_names as $xmlfile){
	$temp="./plugins/$xmlfile/$xmlfile.xml";
	$xml = $temp;
	$xml = simplexml_load_file($xml);
	if (count($xml->external) > 0) {
	    foreach ($xml->internal as $node) {
		if($_GET["n"]==$node->url){
			include("./plugins/$xmlfile/index.php");
	    		$func= (string)$node->name;
			if(isset($_POST))
				$func($_POST);
			else
				$func();
		}
	    }
	}
}
}
?>
	
